# 🚀 Deploy Your RandomHouseAssignment and HogwartsNFT Contracts

Welcome to the **ultimate guide** on deploying your Hogwarts Sorting Hat dApp! By the end of this lesson, both of your contracts will be live on **Arbitrum Sepolia Testnet** and ready to roll. Let's get started! ⚡🎩  

## 🛠 Step 1: Set Up Remix and Load Your Contracts  

1. Open [Remix](https://remix.ethereum.org/) in your browser.  
2. Create two new Solidity files:  
   - `RandomHouseAssignment.sol`  
   - `HogwartsNFT.sol`  
![](https://github.com/0xmetaschool/Learning-Projects/blob/main/assests_for_all/Build%20Hogwarts%20Sorting%20Cap%20dApp%20on%20the%20Polygon%20Mumbai/new_images/remix.webp?raw=true)
3. Copy and paste the respective contract code into each file.  

🔹 **Pro Tip:** Ensure your code is well-formatted and error-free before proceeding!  

## ⚙️ Step 2: Compile Your Smart Contracts  

1. Click on the **Solidity Compiler** tab in Remix.  
2. Select the correct **compiler version** (as required by your contracts).
3. Select **Injected Provider - MetaMask** from the environment dropdown. 
![](https://github.com/0xmetaschool/Learning-Projects/blob/main/assests_for_all/Build%20Hogwarts%20Sorting%20Cap%20dApp%20on%20the%20Polygon%20Mumbai/new_images/remix1.webp?raw=true)

4. Ensure your MetaMask is set to **Arbitrum Sepolia Testnet**.
5. Compile **both** contracts one by one:  
   - **HogwartsNFT.sol**  
   - **RandomHouseAssignment.sol**  

6. Watch for the green checkmark ✅ to confirm successful compilation.  

💡 **Why Compile?** This step ensures your contract has no syntax errors before deployment.  


## 🚀 Step 3: Deploying the Contracts on Arbitrum Sepolia  

### **First, Deploy HogwartsNFT.sol**  
1. Go to the **Deploy & Run Transactions** tab in Remix.
2. Click **Deploy** and confirm the transaction in MetaMask.  
![](https://github.com/0xmetaschool/Learning-Projects/blob/main/assests_for_all/Build%20Hogwarts%20Sorting%20Cap%20dApp%20on%20the%20Polygon%20Mumbai/new_images/remix2.webp?raw=true)
![](https://github.com/0xmetaschool/Learning-Projects/blob/main/assests_for_all/Build%20Hogwarts%20Sorting%20Cap%20dApp%20on%20the%20Polygon%20Mumbai/new_images/remix3.webp?raw=true)


🔥 **Boom! Your HogwartsNFT contract is deployed!** 🎉  

### **Next, Deploy RandomHouseAssignment.sol**  
Before deploying, you need to provide **constructor inputs**, which you obtained from the **Chainlink setup lesson**.  

```solidity
constructor(
    address _nftContract,
    uint256 subscriptionId,
    bytes32 keyHash,
    uint32 gasLimit
) VRFConsumerBaseV2Plus(0x5CE8D5A2BC84beb22a398CCA51996F7930313D61) { // Replace with actual VRF Coordinator address
    nftContract = HogwartsNFT(_nftContract);
    s_subscriptionId = subscriptionId;
    i_keyHash = keyHash;
    callbackGasLimit = gasLimit;
}
```

### **Steps to Deploy:**

![](https://github.com/0xmetaschool/Learning-Projects/blob/main/assests_for_all/Build%20Hogwarts%20Sorting%20Cap%20dApp%20on%20the%20Polygon%20Mumbai/new_images/remix4.webp?raw=true)

1. Copy the **contract address** of your deployed `HogwartsNFT.sol`.  
2. Go to the **Deploy & Run Transactions** tab.  
3. Select **RandomHouseAssignment.sol** from the contract dropdown.  
4. Enter the constructor parameters:  
   - **_nftContract** → Paste the **HogwartsNFT** contract address.  
   - **subscriptionId** → From your **Chainlink setup lesson**.  
   - **keyHash** → From your **Chainlink setup lesson**.  
   - **gasLimit** → Recommended value: `250000` or as per Chainlink docs.  
5. Click **Deploy** and confirm the transaction in MetaMask.  

🔥 **Success! Your sorting hat is now live on Arbitrum Sepolia!** 🎩  

## 🔗 Step 4: Transfer Ownership  
Transfer the ownership of the **HogwartsNFT** contract to the **RandomHouseAssignment** contract by calling the `transferOwnership` function in the **HogwartsNFT** contract.  
![](https://github.com/0xmetaschool/Learning-Projects/blob/main/assests_for_all/Build%20Hogwarts%20Sorting%20Cap%20dApp%20on%20the%20Polygon%20Mumbai/new_images/remix5.webp?raw=true)

## 🔗 Step 5: Add Consumers to Chainlink VRF  

To enable **random house assignments**, you must link your contract to **Chainlink VRF**.  

1. Copy your deployed **RandomHouseAssignment.sol contract address**.  
2. Head over to [Chainlink VRF Arbitrum Sepolia](https://vrf.chain.link/arbitrum-sepolia).  
3. Click on your **Subscription ID**.  
4. Hit **Add Consumer**.  
5. Paste your **RandomHouseAssignment** contract address and click **Add Consumer**.  
6. Confirm the transaction in MetaMask.  

🎥 **Watch the magic happen in this GIF:**  

![](https://github.com/0xmetaschool/Learning-Projects/blob/main/assests_for_all/one-piece-dapp/Deploy%20Smart%20Contracts/Frame_3560365_(29).webp)  



## 🎯 Wrap-up & Next Steps  

Congratulations! 🎉 You successfully:  
✅ Deployed **HogwartsNFT.sol** and **RandomHouseAssignment.sol** on **Arbitrum Sepolia**.  
✅ Connected **Chainlink VRF** for randomness.  
✅ Made your contract **fully functional** for sorting students into houses!  

Up next? We’ll build an **interactive frontend** to let users interact with your contract. Stay tuned! 🚀💡
